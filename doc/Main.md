>   Міністерство освіти і науки України

>   Національний технічний університет України

>   «Київський політехнічний інститут»

>   Факультет інформатики та обчислювальної техніки

>   Кафедра обчислювальної техніки

>   **Проєкт**

>   **«Система управління експертними опитуваннями»**

>   **з дисципліни «Організація баз даних»**

>   Виконали:

>   студенти 2 курсу

>   ФІОТ гр. ІО-82

>   Бригада \#4

>   Шендріков Євгеній

>   Вербовський Ілля

>   Мамотенко Богдан

>   Мартинюк Назар

>   Половінкін Петро

>   Полюхович Анастасія

>   Трандашир Юлія

>   Київ 2019 р.

\*\* 1. Вступ. Експертні системи. \*\* 
-------------------------------

*Експертна система* – це програма, що поводиться подібно експерту в деякій,
звичайно вузькій прикладній області (типові застосування експертних систем
містять у собі такі задачі, як медична діагностика, локалізація помилок в
устаткуванні й інтерпретація результатів вимірів).

Експертні системи призначені для відтворення досвіду, знань професіоналів
високого рівня і використання цих знань в процесі вирішення проблеми.

Простіші системи, засновані на знаннях, функціонують в режимі діалогу, або
режимі консультації. Після запуску система задає користувачеві ряд питань про
розв'язуваної задачі, які потребують відповіді "так" чи "ні". Відповіді служать
для встановлення фактів, за якими може бути виведено остаточний висновок.

Однією з характеристик експертної системи є те, що вона застосовує досвід
мислення найбільш кваліфікованих експертів у даній ділянці знань, що приводить
до точних, творчих та ефективних рішень.

Останньою характеристикою експертної системи є те, що її можна використовувати
для навчання й тренування робітників та спеціалістів.

1.1. Мета.
----------

Метою документа є визначення основних вимог до функціональності та
експлуатаційної придатності, заявлених до предмета розробки.

*За метою створення* експертні системи можна класифікувати таким чином:

-   для навчання фахівців;

-   для вирішення задач;

-   для автоматизації рутинних робіт;

-   для тиражування знань експертів.

*За завданням, що вирішується*:

-   Інтерпретація даних;

-   Діагностика;

-   Моніторинг;

-   Проєктування;

-   Прогнозування;

-   Звідне планування;

-   Навчання;

-   Керування;

-   Підтримка ухвалення рішень.

1.2. Експертні оцінки. Їх методи та класифікація.
-------------------------------------------------

### 1.2.1. Основні дефініції експертного оцінювання.

*Експерт* - компетентна для оцінювання особа, яка має спеціальний досвід в
конкретній галузі і бере участь в дослідженні як джерело отримання інформації.

*Експертна оцінка* - це оцінка параметрів процесів або предметів, які неможливо
безпосередньо виміряти, або застосувати будь-які точні науки, тому оцінка
проводиться на підставі професійного досвіду фахівця, як одного, так і
декількох. Експертна оцінка може містити прогноз подальшого розвитку або зміни
ситуації, процесу, предмета.

*Методи експертних оцінок* - це методи організації роботи з фахівцями-експертами
і обробки думок експертів. Фактично є методами прогнозування, основоположним
критеріями яких є досягнення згоди серед усіх членів експертної групи.
Організаційно це виглядає так. Експерти, обізнані у взаємопов'язаних сферах
діяльності, детально відповідають на питання анкети, пов'язаної з досліджуваною
проблемою. Кожен з них фіксує свою думку про проблему, а потім повідомляє про
відповідь своїм колегам. У випадку розбіжності його прогнозу з думкою інших,
експерт зобов'язаний пояснити причину такої невідповідності. Далі процедура
повторюється до тих пір, поки експерти не знайдуть консенсусу. При цьому
потрібно дотримуватися анонімності, що допомагає уникнути можливості групових
роздумів над проблемною ситуацією.

Експертне опитування передбачає дотримування таких правил та вимог:

-   вказати, сутність якої проблеми вивчається, і мотив звернення до експерта;

-   правильне формулювання кожного проблематичного питання;

-   інформація про зміст пропонованих питань;

-   дані, що підтверджують компетентність експерта (галузь знань, стан,
    кваліфікація);

-   допоміжні зауваження, коментарі, пропозиції.

### 1.2.2. Основні методи експертного оцінювання.

Методи колективної роботи експертної групи передбачають отримання загальної
думки в ході спільного обговорення вирішуваної проблеми. Всі експертні методи
поділяються на дві групи – *індивідуальні* і *колективні* – та підгрупи.

#### Індивідуальні експертні методи.

*Індивідуальні експертні методи* – це використання думок експертів, які
сформульовані особисто кожним із них самостійно без врахування думок інших
експертів. До індивідуальних експертних методів належать: *інтерв'ю*,
*анкетування* та *метод доповіді*.

*- Метод інтерв'ю* передбачає бесіду з експертом по схемі питання відповідь;

\- *Метод анкетування* ґрунтується на самостійній підготовці експертом
відповідей на запитання анкети. Однак досвід свідчить, що у письмовому викладі
великого значення набувають такі суб’єктивні фактори, як небажання виступати з
критикою товаришів по службі і керівників, скептицизм щодо значення і способів
дослідження, неправильне тлумачення чи нерозуміння запитання, звичайне небажання
займатися невластивою опитуваному роботою. Усе це негативно позначається на
якості аналізу, проведеного за допомогою анкетування.

\- *Метод доповіді* передбачає ретельну самостійну роботу експерта над аналізом,
з наданням думки у вигляді аналітичної записки.

#### Колективні експертні методи.

*Колективні експертні методи* – це методи, які забезпечують формування єдиної
спільної думки в результаті взаємодії залучених фахівців-експертів.

Серед колективних методів експертної оцінки виділяють: *метод комісії*, *метод
мозкового штурму*, ділової гри, *методи Дельфі*, *відстороненого оцінювання*,
*конференція* ідей та ін.

\- *Метод комісії* заснований на роботі спеціальних комісій. Групи експертів за
"круглим столом" обговорюють ту чи іншу проблему з метою узгодження точок зору
та вироблення єдиної думки.

\- *Метод ділової гри* - метод, заснований на моделюванні функціонування
соціальної системи управління при виконанні операцій, спрямованих на досягнення
поставленої мети.

\- *Метод мозкової атаки (мозкового штурму*) - популярний метод висування
творчих ідей у процесі розв'язування наукової чи технічної проблеми, сеанси
якого стимулюють творче мислення. Сеанс здійснюється в два етапи з групою
фахівців різних спеціальностей. Їх мета - висловити максимальну кількість ідей,
на формулювання кожної окремої ідеї відводять 2-3 хв. Критика ідей заборонена,
бо передчасне оцінювання ідей може вбити творчий ентузіазм. На першому етапі
допускається висування навіть безглуздих, як на перший погляд ідей, бо всі
працюють за принципом: що більше ідей, то краще. На другому етапі всі висунуті
ідеї уважно вивчають висококваліфіковані експерти й оцінюють за допомогою
спеціальних критеріїв, розроблених заздалегідь. Більшу частину висловлених
пропозицій відкидають, а ті ідеї, які найбільшою мірою відповідають усім
критеріям, передають на розробку і впровадження у виробництво. Ефективність
методу «мозкового шторму» зменшується, якщо в групі є сильна особа, що домінує
над іншими, якщо недостатня кваліфікація учасників або якщо їх дуже багато;

\- *Метод «635»* - один з різновидів мозкової атаки. Цифри 6, 3, 5 позначають
шість учасників, кожен з яких повинен записати три ідеї протягом п'яти хвилин.
Лист ходить по колу. Таким чином, за півгодини кожен запише в свій актив 18
ідей, а все разом - 108;

\- *Метод “Суду"* - метод, який реалізується за аналогією з веденням судового
процесу, коли в ролі "підсудних" виступають обрані варіанти вирішення;

\- *Метод Дельфі* – один із методів, що дозволяє враховувати думки всіх людей,
які мають відношення до будь-якого питання, за допомогою послідовного об'єднання
міркувань, пропозицій і висновків, результатом повинно бути прийняття
конкретного рішення. Дельфійський метод зручний в застосуванні, і
використовувати його може будь-яка людина або група людей, важливо тільки знати,
як це робиться. основними його особливостями є анонімність, багаторівневість.
Базовою передумовою служить ідея про те, що якщо належним чином провести
узагальнення та обробку індивідуальних оцінок експертів з приводу конкретної
ситуації, можна отримати загальну думку, яка буде володіти максимальним ступенем
надійності та достовірності. Сенс же методу полягає в тому, щоб за допомогою
комплексу певних дій, таких як мозкові штурми, інтерв'ю та опитування, знайти
спосіб визначення вірного рішення. Вважається, що деяка група незалежних
експертів набагато краще може оцінити результат, ніж структурована група людей.

\- *Метод відстороненого оцінювання* полягає у виборі оптимального незалежного
рішення із числа висловлених експертами на нараді. Робота наради поділена на дві
частини: висунення ідей та їх критичний аналіз.

\- *Конференція ідей* подібна до мозкового штурму, але відрізняється від нього
темпом проведення нарад та дозволеною короткою доброзичливою критикою ідей у
формі реплік і коментарів. При цьому стимулюється поєднання кількох пропозицій,
фантазування, що сприяє підвищенню якості ідей. Всі висунуті ідеї занотовуються
у протоколі без указування їх авторів. До складу учасників конференції ідей
включаються не лише висококваліфіковані фахівці, а й новачки, неспеціалісти – не
заангажовані і здатні висувати свіжі, нові, неординарні підходи.

1.3. Анкетування. Структура анкети, фази анкетування.
-----------------------------------------------------

### 1.3.1. Основні дефініції процесу анкетування.

*Анкета* - упорядкований за змістом і формою набір питань та висловлювань, що
вміщені на одному чи кількох аркушах паперу. Анкета повинна бути адресована
багатьом людям (респондентам). Логіка побудови питань в анкеті відповідає цілям
дослідження і спрямована на отримання тільки такої інформації, яка дає
можливість перевірити певні гіпотези.

*Анкетування* — метод отримання інформації шляхом письмових відповідей
респондентів на систему стандартизованих запитань попередньо підготовлених
бланків — анкет.

Анкетне опитування може бути здійснений в двох формах:

-   *усна форма*, коли реєстратор сам заповнює бланк зі слів респондента;

-   *письмова форма*, коли бланк заповнює респондент. Недолік цього більш
    дешевого способу - значна кількість неповернених або неправильно заповнених
    анкет.

### 1.3.2. Структура анкети.

Анкета складається з трьох блоків:

1.  вступ або преамбула, де містяться мета опитування, відомості про опитують,
    місце і час (день та час) заповнення анкети (маршрутний лист), інструкція
    щодо заповнення та повернення анкети, гарантія анонімності;

2.  основна частина, що включає в себе перелік питань. Різновиди питань: питання
    по суті, детектор, фільтруючі питання. Детектор містить контрольні питання
    для перевірки пильності і відвертості респондентів, для чого застосовуються
    дублюючі питання і питання з заздалегідь відомими, очевидними відповідями.
    Фільтруючі питання мають на меті виключити опитуваних, які не зможуть дати
    компетентного відповіді. Вони покликані встановити приналежність респондента
    до будь-якої конкретної аудиторії. Наприклад, якщо на питання про наявність
    у нього конкретного товару респондент відповідає негативно, то питання про
    оцінку властивостей цього товару стають зайвими;

3.  реквізитна частина, яка містить питання, що відображають
    соціально-демографічні характеристики респондента: ім'я, вік, стать,
    соціальна група, характер праці, сімейний стан.

### 1.3.3. Фази анкетування.

У процедурі анкетування виділяються чотири фази: конкретизація мети дослідження,
підготовка, збір інформації та зведення даних.

*Фаза конкретизації* мети дослідження містить наступні етапи:

1.  формулювання завдань, для вирішення яких потрібна інформація;

2.  формулювання статистичних показників, які повинні бути розраховані;

3.  формулювання характеристик, які повинні бути оцінені за результатами
    анкетування.

*Підготовча фаза* складається з наступних етапів:

1.  розробка питань та складання анкет;

2.  тестування питань і анкет в результаті пробного (пілотного) анкетування,
    коли опитується мала частина респондентів (5% від всіх)

*Фаза збору інформації* - власне анкетування - включає в себе наступні етапи:

1.  поширення анкет по самим різним каналам - від традиційних до застосування
    Інтернету;

2.  заповнення та збір анкет.

*Фаза зведення отриманих даних* складається з наступних етапів:

1.  первинна обробка - виключаються непридатні анкети і відповіді;

2.  узагальнення і попередній аналіз інформації - проводяться систематизація і
    угрупування отриманих даних, для чого розробляються і заповнюються таблиці.

### 1.3.4. Види запитань в анкетах.

Для процедури анкетування виділяють 3 основні види запитань: за формою
відповідей, за сформованістю питання і за функціями.

1.  *За формою відповідей:*

\- закриті (містять повний набір можливих варіантів відповіді):

-   дихотомічні (відповіді так/ні);

-   поліваріативні (є декілька варіантів відповіді);

-   питання з градацією (наприклад, повністю згоден/згоден/частково згоден/не
    згоден);

>   \- напівзакриті (містять певні варіанти відповіді, але можна також вказати
>   власну);

>   \- відкриті (передбачають самостійну та розгорнуту відповідь респондентів):

-   особистісні (стать, вік, професія, освіта і т.д.);

-   про факти свідомості (думки, враження, судження, мотиви і т.д.);

-   про факти поведінки (результати діяльності, вчинки, дії і т.д.).

1.  *За сформованістю запитання:*

>   \- прямі (спрямовані на безпосереднє та відкрите отримання інформації
>   відреспондентів);

>   \- непрямі (пов'язані з використанням якоїсь уявної ситуації, яка дозволить
>   приховано дізнатись певну інформацію)

1.  *За функціями:*

>   \- інформаційні (основні);

>   \- фільтри (використовують у випадку, якщо потрібно зібрати інформацію не
>   від усіх респондентів, а від певної категорії);

>   \- контрольні (дають можливість уточнити правильність відповіді
>   респондента).

### 1.3.5. Сервіси для опитування.

Одним з найпростіших і найменш витратних способів дослідження є проведення
онлайн-опитування, з використанням простих, безкоштовних програм, які можуть
надати результати вже за кілька годин після початку опитування. Серед основних
сервісів для опитування можна виділити:

1.  Survio.com

2.  SurveyMonkey.com

3.  Simpoll

4.  Typeform

5.  SurveyGizmo

6.  Google Forms

7.  KeySurvey

Опитування дозволяють дізнатися думку аудиторії, це найпростіший і прямий шлях
до розуміння бажань останньої. Вибір платформи з готовим функціоналом залежить
від цілей бізнесу та фінансових можливостей компанії.

Але оцінюючи кожен інструмент, представлений в цьому огляді, варто сказати, що
краще Google Forms для новачків годі й шукати. Сервіс пропонує досить широкий
функціонал, необмежену кількість анкет і питань. Дані з відповідей зводяться в
таблиці. Можливості персоналізації та брендингу скромні. Але на актуальності
сервісу це особливо не позначається.

Є також корисний сервіс Key Survey - це веб-сервіс для створення опитувань і
обробки результатів в середніх і великих організаціях. Продукт пропонує широкий
вибір функцій, який дозволяє створювати, управляти і аналізувати дані
досліджень. Він дозволяє переглядати і управляти учасниками опитування шляхом
угруповання даних. Можна вносити свої власні поля. І синхронізувати базу з
CRM-системами.

### 1.3.6. Продукти, які використовуються для опитування та обробки/аналізу даних соціологічних та маркетологічних досліджень.

Найкращим прикладом продукту, який використовується для статистичного аналізу
даних є «ОСА»

ОСА – це програмне забезпечення для обробки та аналізу даних соціологічних та
маркетологічних досліджень, що була створена у 2001 році за підтримки Інституту
соціології НАН України.

На платформі ОСА існують наступні програмні технології:

*Збір і введення даних:*

-   OCA MakeForm – модуль введення даних в комп'ютер.

-   OCA CATI – набір програм дозволяють проводити телефонні опитування за
    допомогою комп'ютера.

-   OCA MakeFormPsy – програма для проведення різного роду тестів (наприклад,
    психологічних тестів).

*Робота з даними:*

-   OCA for Windows – програма призначена для статистичного аналізу результатів
    соціологічних і маркетингових опитувань.

*Передача даних замовнику:*

-   OCA New Line – оболонка для роботи з проєктами різної структури
    (моніторинги, трекінгу, панелі, щоденники тощо), що володіє можливістю
    генерувати звіти по попередньо описаним шаблонам.

-   OCA New Line Technology – набір програм для підготовки даних для їх
    подальшого аналізу в оболонці OCA New Line.

### 1.3.7 Порівняння сервісів для опитування.

|                                       | *Google Forms* | *Survey Monkey* | *Key Survey* | *Survio* |
|---------------------------------------|----------------|-----------------|--------------|----------|
| Розгалуження і пропуск логіки         | **╳**          | **✓**           | **✓**        | **✓**    |
| Брендування                           | **✓**          | **✓**           | **✓**        | **✓**    |
| Вставка опросів на сайт або у додаток | **✓**          | **✓**           | **╳**        | **╳**    |
| Налаштування посилання на опитування  | **╳**          | **✓**           | **╳**        | **✓**    |
| Аналітика та звітування               | **✓**          | **╳**           | **✓**        | **✓**    |
| Шаблони анкет і запитань              | **╳**          | **✓**           | **✓**        | **✓**    |
| Імпорт/Експорт форм                   | **╳**          | **✓**           | **✓**        | **✓**    |
| Підтримка на платформах Linux         | **✓**          | **✓**           | **✓**        | **✓**    |
| Підтримка на платформах Windows       | **✓**          | **✓**           | **✓**        | **✓**    |
| Підтримка на платформах Macintosh     | **✓**          | **✓**           | **✓**        | **✓**    |
| Підтримка на платформах Android       | **✓**          | **✓**           | **✓**        | **╳**    |
| Доступ по протоколу HTTPS             | **✓**          | **╳**           | **✓**        | **╳**    |
| Захват локації                        | **╳**          | **╳**           | **✓**        | **╳**    |
| Offline-режим                         | **╳**          | **✓**           | **✓**        | **╳**    |
| Безкоштовний пробний період           | **✓**          | **✓**           | **╳**        | **✓**    |

\*\* 2. Короткий огляд продукту. \*\* 
----------------------------------

2.1. Склад системи.
-------------------

*Експертна система складається з:*

-   бази знань призначеної для зберігання вихідних і проміжних фактів в робочій
    пам'яті і зберігання моделей і правил маніпулювання моделями в базі правил;

-   організатора опитувань, який забезпечує організацію опитування, його
    структуру та взаємозв’язки з іншими компонентами;

-   компонента проведення опитування, який забезпечує реалізацію опитування на
    базі інших компонентів експертної системи(бази знань та організатора
    опитувань).

2.2. Приклади анкет.
--------------------

**Що ви собі забороняєте?**

1.  *Ваша сильна риса:*

>   а) відповідальність

>   б) стійкість

>   в) щедрість

1.  *Яку рису ви хотіли б отримати або розвити?*

>   а) пунктуальність

>   б) чесність

>   в) прямолінійність

1.  *Головним недоліком в собі ви вважаєте:*

>   а) скритність

>   б) черезмірну прямоту

>   в) поступливість

>   *Друзі знають, що ви ніколи:*

>   а) не байдикуєте

>   б) не запізнюєтесь

>   в) не відмовляєте в допомозі

>   *Більше всього ви боїтесь, що:*

>   а) змарнувати час

>   б) прийняти неправильне рішення

>   в) заподіяти незручності близьким

Нижче наведено частину розробленого нашою командою тесту, який допомагає
абітурієнтам обрати свою спеціальність і ВНЗ. Повну версію тесту можна знайти за
[посиланням](http://almamater4u.getenjoyment.net/%D0%A2%D0%B5%D1%81%D1%821/Test1.html)[^1].

[^1]: <http://almamater4u.getenjoyment.net/%D0%A2%D0%B5%D1%81%D1%821/Test1.html>

**Яка професія і університет мені найкраще підходить?**

1.  *Вивчення або дослідження, систематичний збір інформації, інтрес у ІТ-сфері*

>   Немає зацікавленості  
>   Часткова зацікавленість  
>   Середня зацікавленість  
>   Переважна зацікавленість  
>   Повна зацікавленість

1.  *Заходи, спрямовані на фізичну форму, здоров'я, харчування або спорт*

>   Немає зацікавленості  
>   Часткова зацікавленість  
>   Середня зацікавленість  
>   Переважна зацікавленість  
>   Повна зацікавленість

1.  *Прагнення справити добре враження на інших*

>   Немає зацікавленості  
>   Часткова зацікавленість  
>   Середня зацікавленість  
>   Переважна зацікавленість  
>   Повна зацікавленість

1.  *Вигадувати нові ідеї або підходи*

>   Немає зацікавленості  
>   Часткова зацікавленість  
>   Середня зацікавленість  
>   Переважна зацікавленість  
>   Повна зацікавленість

1.  *Переконання кого-небудь прийняти аргумент або ідею*

>   Немає зацікавленості  
>   Часткова зацікавленість  
>   Середня зацікавленість  
>   Переважна зацікавленість  
>   Повна зацікавленість

1.  *Спостереження за тенденціями в інформації чи цифрах*

>   Немає зацікавленості  
>   Часткова зацікавленість  
>   Середня зацікавленість  
>   Переважна зацікавленість  
>   Повна зацікавленість

\*\* 3. Ділові правила і приписи. \*\* 
----------------------------------

3.1. Призначення експертної системи.
------------------------------------

Функціональність системи призначена для аналізу відгуків користувачів
найпопулярніших форумів, які спеціалізуються на кінематографі. Користувач зможе
вибрати для перегляду фільм, з-поміж багатьох кінострічок, за критеріями, що
будуть побудовані на основі відгуків користувачів, тобто опитувань. Буде
можливість сортувати та фільтрувати фільми за певними критеріями. Також буде
можливо орієнтуватись тільки на відгуки звичайних користувачів, або ж відгуки
критиків(експертів) і залишати під ними свої. Легко можна буде створити
анкету-опитування щодо певного фільму, щоб дізнатися думку людей за певними
критеріями.

3.2. Діаграма юзкейсів.
-----------------------

*Посилання на діаграму:* [img/usecase.png](img/usecase.png)

   *Usecase Аналітик:* [img/analyst.png](img/analyst.png)

   *Usecase Менеджер:* [img/manager.png](img/manager.png)

   *Usecase Системний юзер:* [img/system_user.png](img/system_user.png)

   *Usecase Користувач:* [img/user.png](img/user.png)

   *Usecase Експерт:* [img/expert.png](img/expert.png)

3.3. Сценарії без участі системи
--------------------------------

### 3.3.1. Сценарій реєстрування нового користувача.

| Ідентифікатор:     | JSС-1.1                                                                                   |
|--------------------|-------------------------------------------------------------------------------------------|
| Назва:             | Реєстрація нового користувача                                                             |
| Учасники:          | Користувач; Менеджер                                                                      |
| Передумови:        | Респондент отримав запрошення на реєстрацію і проходження опитування                      |
| Результат:         | Створення нового облікового запису користувача                                            |
| Виключні ситуації: | Респондент відхилив запрошення на участь                                                  |
| Основний сценарій: | 1. Користувач натискає кнопку [Реєстрація].                                               |
|                    | 2. Менеджер вручну пропонує форму «Реєстрація нового користувача».                        |
|                    | 3. Користувач заповнює поля: логін, пароль, прізвище, ім’я, e-mail,                       |
|                    | сфера діяльності, рівень обізнаності.                                                     |
|                    | 4. Користувач підтверджує правильність введених даних.                                    |
|                    | 5. Менеджер перевіряє введені дані.                                                       |
|                    | 6. На електронну пошту, вказану користувачем при реєстрації, Менеджер надсилає            |
|                    | листа з посиланням для підтвердження адреси електронної пошти.                            |
|                    | 7. Користувач підтверджує адресу електронної пошти.                                       |
|                    | 8. Менеджер створює новий профіль для користувача.                                        |
|                    | 9. Профіль юзера дозволяє Користувачу отримати додаткові можливості використання системи. |

### 3.3.2. Сценарій створення опитування.

| Ідентифікатор:     | JSС-2.1                                                            |
|--------------------|--------------------------------------------------------------------|
| Назва:             | Створення опитування                                               |
| Учасники:          | Аналітик; Менеджер                                                 |
| Передумови:        | Поява нової заявки на опитування у Менеджера                       |
| Результат:         | Створення опитування та надсилання запрошень респондентас          |
| Виключні ситуації: | Аналітик перервав процес створення опитування                      |
| Основний сценарій: | 1. Аналітик натискає кнопку [Створити опитування].                 |
|                    | 2. Менеджер надсилає форму «Створення нового опитування».          |
|                    | 3. Аналітик заповнює поле: Назва опитування.                       |
|                    | 4. Менеджер надсилає форму «Редагування опитування».               |
|                    | 5. Аналітик коригує опитування, додає питання, «особливі» питання  |
|                    | та натискає кнопку [Завершити створення].                          |
|                    | 6. Менеджер завершує опрацювання опитування, створює опитування та |
|                    | надсилає запрошення на участь респондентам.                        |

### 3.3.3. Сценарій додавання питання.

| Ідентифікатор:     | JSС-2.2                                                              |
|--------------------|----------------------------------------------------------------------|
| Назва:             | Додавання питання                                                    |
| Учасники:          | Аналітик; Менеджер                                                   |
| Передумови:        | Створення нового опитування Аналітиком                               |
| Результат:         | Опитування, яке містить питання                                      |
| Виключні ситуації: | Аналітик перервав процес додавання питання                           |
| Основний сценарій: | 1. Аналітик натискає кнопку [Додати питання].                        |
|                    | 2. Менеджер надсилає форму «Додавання нового питання».               |
|                    | 3. Аналітик обирає тип питання.                                      |
|                    | 4. Менеджер надсилає форму питання згідно з обраним типом.           |
|                    | 5. Аналітик заповнює поля: Питання, Відповіді на питання.            |
|                    | 6. Менеджер надсилає форму «Параметри питання».                      |
|                    | 7. Аналітик коригує питання та натискає кнопку [Зберегти питання].   |
|                    | 8. Менеджер завершує опрацювання створеного питання, додає питання   |
|                    | до опитування та повертає Аналітика до форми «Створення опитування». |

### 3.3.4. Сценарій проходження опитування.

| Ідентифікатор:     | JSС-2.3                                                                                         |
|--------------------|-------------------------------------------------------------------------------------------------|
| Назва:             | Проходження опитування                                                                          |
| Учасники:          | Користувач; Менеджер                                                                            |
| Передумови:        | Користувач побажав пройти опитування                                                            |
| Результат:         | Користувач пройшов опитування                                                                   |
| Виключні ситуації: | Респондент \| Аналітик \| Менеджер перервав процес проходження опитування                       |
| Основний сценарій: | 1. Користувач натискає кнопку [Останні опитування].                                             |
|                    | 2. Менеджер пропонує форму «Останні опитування».                                                |
|                    | 3. Користувач обирає опитування.                                                                |
|                    | 4. Менеджер надсилає форму «Перегляд опитування».                                               |
|                    | 5. Користувач натискає кнопку [Пройти опитування]                                               |
|                    | 6. Користувач проходить анкетування та натискає кнопку [Завершити].                             |
|                    | 7. Менеджер оброблює результат та пропонує переглянути результати опитування.                   |
|                    | 8. Користувач натискає кнопку [Переглянути результати опитування].                              |
|                    | 9. Користувач переглядає результати опитування та натискає кнопку [Покинути опитування].        |
|                    | 10. Менеджер надсилає повідомлення про результат проходження опитування та закриває опитування. |

3.4. Сценарії з участю системи
------------------------------

### 3.4.1. Сценарій реєстрування нового користувача.

| Ідентифікатор:     | JS-1.1                                                                                    |
|--------------------|-------------------------------------------------------------------------------------------|
| Назва:             | Реєстрація нового користувача                                                             |
| Учасники:          | Користувач; Система                                                                       |
| Передумови:        | Респондент отримав запрошення на реєстрацію і проходження опитування                      |
| Результат:         | Створення нового облікового запису користувача                                            |
| Виключні ситуації: | Респондент відхилив запрошення на участь                                                  |
| Основний сценарій: | 1. Користувач натискає кнопку [Реєстрація].                                               |
|                    | 2. Система відкриває форму «Реєстрація користувача».                                      |
|                    | 3. Користувач заповнює поля: логін, пароль, прізвище, ім’я, e-mail, сфера                 |
|                    | діяльності, рівень обізнаності.                                                           |
|                    | 4. Користувач підтверджує правильність введених даних.                                    |
|                    | 5. Система перевіряє введені дані.                                                        |
|                    | 6. На електронну пошту, вказану користувачем при реєстрації, система надсилає             |
|                    | листа з посиланням для підтвердження адреси електронної пошти.                            |
|                    | 7. Користувач підтверджує адресу електронної пошти.                                       |
|                    | 8. Система створює новий профіль для користувача.                                         |
|                    | 9. Профіль юзера дозволяє Користувачу отримати додаткові можливості використання системи. |

### 3.4.2. Сценарій створення опитування.

| Ідентифікатор:     | JS-2.1                                                                              |
|--------------------|-------------------------------------------------------------------------------------|
| Назва:             | Створення опитування                                                                |
| Учасники:          | Аналітик; Система                                                                   |
| Передумови:        | Поява нової заявки на опитування у Менеджера                                        |
| Результат:         | Створення опитування та надсилання запрошень респондентам                           |
| Виключні ситуації: | Аналітик перервав процес створення опитування                                       |
| Основний сценарій: | 1. Аналітик натискає кнопку [Створити опитування].                                  |
|                    | 2. Система відкриває форму «Створення нового опитування».                           |
|                    | 3. Аналітик заповнює поле: Назва опитування.                                        |
|                    | 4. Система відкриває форму «Редагування опитування».                                |
|                    | 5. Аналітик коригує опитування, додає питання, «особливі» питання, додає можливість |
|                    | користувачам вступати у колаборації (опціонально) та натискає кнопку [Завершити].   |
|                    | 6. Система завершує опрацювання опитування, створює опитування та надсилає          |
|                    | запрошення на участь респондентам.                                                  |
|                    | 7. Система надсилає повідомлення щодо створення опитування Менеджеру.               |

### 3.4.3. Сценарій додавання питання.

| Ідентифікатор:     | JS-2.2                                                               |
|--------------------|----------------------------------------------------------------------|
| Назва:             | Додавання питання                                                    |
| Учасники:          | Аналітик; Система                                                    |
| Передумови:        | Створення нового опитування Аналітиком                               |
| Результат:         | Опитування, яке містить питання                                      |
| Виключні ситуації: | Аналітик перервав процес додавання питання                           |
| Основний сценарій: | 1. Аналітик натискає кнопку [Додати питання].                        |
|                    | 2. Система відкриває форму «Додавання нового питання».               |
|                    | 3. Аналітик обирає тип питання.                                      |
|                    | 4. Система пропонує форму питання згідно з обраним типом.            |
|                    | 5. Аналітик заповнює поля: Питання, Відповіді на питання.            |
|                    | 6. Система відкриває форму «Параметри питання».                      |
|                    | 7. Аналітик коригує питання та натискає кнопку [Зберегти питання].   |
|                    | 8. Система завершує опрацювання створеного питання, додає питання до |
|                    | опитування та повертає Аналітика до форми «Створення опитування».    |

### 3.4.4. Сценарій проходження опитування.

| Ідентифікатор:     | JS-2.3                                                                                         |
|--------------------|------------------------------------------------------------------------------------------------|
| Назва:             | Проходження опитування                                                                         |
| Учасники:          | Користувач; Система                                                                            |
| Передумови:        | Користувач побажав пройти опитування                                                           |
| Результат:         | Користувач пройшов опитування                                                                  |
| Виключні ситуації: | Респондент \| Аналітик \| Менеджер перервав процес проходження опитування                      |
| Основний сценарій: | 1. Користувач натискає кнопку [Останні опитування].                                            |
|                    | 2. Система відкриває форму «Останні опитування».                                               |
|                    | 3. Користувач обирає опитування.                                                               |
|                    | 4. Система відкриває форму «Перегляд опитування».                                              |
|                    | 5. Користувач проходить анкетування та натискає кнопку [Завершити].                            |
|                    | 6. Система зберігає результат.                                                                 |
|                    | 7. Система пропонує відкрити форму «Переглянути результати опитування».                        |
|                    | 8. Користувач натискає кнопку [Переглянути результати опитування].                             |
|                    | 9. Користувач переглядає результати опитування та натискає кнопку [Покинути опитування].       |
|                    | 10. Система надсилає повідомлення про результат проходження опитування та закриває опитування. |

3.5. Діаграми послідовностей без участі системи.
------------------------------------------------

### 3.5.1. Діаграма JSС–1.1

*Посилання на діаграму:* [img/non_sys_jsc1_1.jpg](img/non_sys_jsc1_1.jpg)

### 3.5.2. Діаграма JSС–2.1

*Посилання на діаграму:* [img/non_sys_jsc2_1.jpg](img/non_sys_jsc2_1.jpg)

### 3.5.3. Діаграма JSC–2.2

*Посилання на діаграму:* [img/non_sys_jsc2_2.jpg](img/non_sys_jsc2_2.jpg)

### 3.5.4. Діаграма JSC–2.3

*Посилання на діаграму:* [img/non_sys_jsc2_3.jpg](img/non_sys_jsc2_3.jpg)

3.6. Діаграми послідовностей без участі системи.
------------------------------------------------

### 3.6.1. Діаграма JS–1.1

*Посилання на діаграму:* [img/sys_jsc1_1.jpg](img/sys_jsc1_1.jpg)

### 3.6.2. Діаграма JS–2.1

*Посилання на діаграму:* [img/sys_jsc2_1.jpg](img/sys_jsc2_1.jpg)

### 3.6.3. Діаграма JS–2.2

*Посилання на діаграму:* [img/sys_jsc2_2.jpg](img/sys_jsc2_2.jpg)

### 3.6.4. Діаграма JS–2.3

*Посилання на діаграму:* [img/sys_jsc2_3.jpg](img/sys_jsc2_3.jpg)

\*\* 4. Функціональність \*\* 
--------------------------

Основні вимоги до функціональності, що висуваються зацікавленими особами до
предмета розробки, відносяться до трьох категорій:

-   Менеджер;

-   Респондент;

-   Аналітик.

4.1. Можливості «Менеджер»
--------------------------

-   Управління процесом опитування;

-   Мати доступ до власних опитувань, або до тих, куди його запросили;

-   Коментувати питання, відповіді, опитування;

-   Отримувати результати опитувань;

-   Керувати процесом підготовки, проведення та аналізу опитування;

-   Редагувати/коригувати контент.

4.2. Можливості «Респондент»
----------------------------

-   Підтверджувати запрошення на опитування;

-   Відповідати на питання в опитуваннях;

-   Коментувати питання, відповіді, опитування;

-   Отримувати результати опитувань.

4.3. Можливості «Аналітик»
--------------------------

-   Створювати та редагувати опитування;

-   Оброблювати та аналізувати отриманні результати;

-   Коментувати питання, відповіді, опитування.

\*\* 5. Моделі \*\*
--------------------

Діаграма сутностей: 

*Посилання на діаграму сутностей:* [img/entity.png](img/entity.png)

Це  UML Activity діаграма для системи опитування, яка показує потоки між діяльністю(activity) об'єктів таких як: Опитування, Результати, Запитання, Реєстрація. 

*Посилання на Activity Diagram:* [img/activity.png](img/activity.png)

Це UML діаграма послідовностей для системи опитування, яка показує взаємодію між об'єктами такими як: Користувачі, Запитання, Реєстрація, Опитування, Результати.

*Посилання на Sequence Diagram:* [img/sequence.png](img/sequence.png)

\*\* 6. Надійність \*\*
--------------------

Для забезпечення незмінності та достовірності модераторами буде
використовуватися комплекс технологічних і адміністративних процедур, що
перешкоджають випадковій або навмисній зміні збережених даних із бази.

Також повинна бути забезпечена конфіденційність персональної інформації. Надання
доступу до персональних даних модератори здійснюють у відповідності з правами
доступу користувача.

6.1. Резервне копіювання і відновлення даних
--------------------------------------------

Регулярне здійснення резервного копіювання баз даних.

\*\* 7. Практичність \*\* 
----------------------

7.1. Стандартизація
-------------------

Система надає доступ до інформації кожному її користувачеві відповідно до його
приналежності до однієї з п’яти категорій. Система підтримується багатьма
платформами, в тому числі всіма браузерами.

7.2. Інтерфейс користувача
--------------------------

Інтерфейс користувача відповідає наступним вимогам:

1.  Зрозумілий і не допускає двозначного тлумачення.

2.  Виконаний з урахуванням ергономічних вимог.

3.  Всі зашифровані параметри або елементи, скорочення, абревіатури повинні мати
    роз'яснення в правому нижньому кутку головної сторінки інтерфейсу
    користувача.

\*\* 8. Список використаної літератури \*\*
---------------------------------------

Інформаційні джерела:

1.  <http://pidruchniki.com/74259/informatika/ekspertni_sistemi>

2.  <http://pidruchniki.com/19650323/ekonomika/metodi_ekspertnih_otsinok>

3.  <http://www.marketch.ru/marketing_dictionary/je/ekspertnaya_otsenka/>

4.  <https://ukrbukva.net/page,10,64178-Metody-ekspertnyh-ocenok.html>

5.  <http://stud.com.ua/63579/marketing/anketuvannya>

6.  <http://studies.in.ua/mpd-ekzamen/3167-procedura-skladannya-anketi-vimogi-do-formulyuvannya-pitan-dlya-opituvannya.html>

7.  <https://www.prostir.ua/?kb=yak-i-dlya-choho-rozroblyaty-onlajn-opytuvannya-nuo>

8.  <http://books.irrp.org.ua/data-design/tipy-voprosov-dlya-oprosnikov/>

9.  <https://startpack.ru/application/keysurvey>

10. <https://hardclient.com/surveys>

11. <https://www.google.com/forms/about/>

12. <http://almamater4u.getenjoyment.net/%D0%A2%D0%B5%D1%81%D1%821/Test1.html>






>   **DROP TABLE IF EXISTS** alternatives; **DROP TABLE IF EXISTS** variants;
>   **DROP TABLE IF EXISTS** answers;

>   **DROP TABLE IF EXISTS** metadata;

>   **DROP TABLE IF EXISTS** questions;

>   **DROP TABLE IF EXISTS** question_types;

>   **DROP TABLE IF EXISTS** sessions; **DROP TABLE IF EXISTS** experts; **DROP
>   TABLE IF EXISTS** polls;

>   **CREATE TABLE** polls (

>   **id INTEGER NOT NULL AUTO_INCREMENT**, **PRIMARY KEY**

>   (**id**),

>   **title VARCHAR**(64) **NOT NULL**,

>   **description VARCHAR**(1024)

>   );

>   **CREATE TABLE** question_types (

>   **id INTEGER NOT NULL AUTO_INCREMENT**, **PRIMARY KEY**

>   (**id**),

>   **name VARCHAR**(32) **NOT NULL**

>   );

>   **CREATE TABLE** questions (

>   **id INTEGER NOT NULL AUTO_INCREMENT**, **PRIMARY KEY**

>   (**id**),

>   **qindex INTEGER NOT NULL**, **qtext VARCHAR**(512) **NOT NULL**,

>   **poll INTEGER NOT NULL**, **FOREIGN KEY** (**poll**)

>   **REFERENCES** polls(**id**),

>   **type INTEGER NOT NULL**, **FOREIGN KEY** (**type**)

>   **REFERENCES** question_types(**id**)

>   );

>   **CREATE TABLE** metadata (

>   **id INTEGER NOT NULL AUTO_INCREMENT**, **PRIMARY KEY**

>   (**id**),

>   **question INTEGER**, **FOREIGN KEY** (**question**) **REFERENCES**

>   questions(**id**),

>   **mkey VARCHAR**(64) **NOT NULL**, **mvalue VARCHAR**(64) **NOT NULL**

>   );

>   **CREATE TABLE** variants (

>   **id INTEGER NOT NULL AUTO_INCREMENT**, **PRIMARY KEY**

>   (**id**),

>   **question INTEGER NOT NULL**, **FOREIGN KEY** (**question**)

>   **REFERENCES** questions(**id**), **vindex INTEGER NOT NULL**, **text
>   VARCHAR**(128) **NOT NULL**,

>   **link1 INTEGER**, **FOREIGN KEY** (**link1**) **REFERENCES**

>   variants(**id**),

>   **link2 INTEGER**, **FOREIGN KEY** (**link2**) **REFERENCES**

>   variants(**id**)

>   );

>   **CREATE TABLE** experts (

>   **id INTEGER NOT NULL AUTO_INCREMENT**, **PRIMARY KEY**

>   (**id**),

>   **username VARCHAR**(64) **UNIQUE NOT NULL**,

>   **realname VARCHAR**(32), **surname VARCHAR**(32),

>   **email VARCHAR**(64) **UNIQUE NOT NULL**

>   );

>   *\# SELECT \* FROM experts*

>   *\# SELECT username FROM experts*

>   *\# INNER JOIN sessions ON sessions.expert = experts.id*

>   *\# WHERE sessions.id = 1*

>   **package** info.necauqua.dbosurvey; **import** java.util.ArrayList;
>   **import** java.util.List;

>   **public class** Test {

>   **public static void** main(String[] args) **throws**

>   InterruptedException {

>   DBManager manager = **new** DBManager(); Poll first = manager.getPoll(1);

>   System.*out*.println(first.getQuestions().get(2).getTex t());

>   *// manager.addPoll(createGamePoll());*

>   *// manager.addPoll(createCafePoll());*

>   Thread.*sleep*(3000); *// wait for it before*

>   *closing*

>   manager.close();

>   }

>   **private static final** QuestionType *nOfMany* = **new**

>   QuestionType(**"N of Many"**);

>   **private static final** QuestionType *matrix* = **new**

>   QuestionType(**"Matrix"**);

>   **private static final** QuestionType *open* = **new**

>   QuestionType(**"Open"**);

>   **private static final** QuestionType *sort* = **new**

>   QuestionType(**"Sorted"**);

>   **private static** Poll createGamePoll() {

>   Poll poll = **new** Poll(**"Популярність ігор"**, **"bla-bla-bla, this is a
>   test description"**);

>   List\<Question\> qs = poll.getQuestions();

>   Question q = **new** Question(poll, 1, **"Як часто Ви граєте в ігри?"**,
>   *nOfMany*);

>   qs.add(q);

>   List\<Metadata\> md = q.getMetadata(); List\<Variant\> vs = q.getVariants();

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   **"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.max"**,

>   **"1"**));

>   vs.add(**new** Variant(q, 1, **"Кожен день"**)); vs.add(**new** Variant(q,
>   2, **"Декілька разів на**

>   **тиждень"**));

>   vs.add(**new** Variant(q, 3, **"Декілька разів на місяць"**));

>   vs.add(**new** Variant(q, 4, **"Декілька разів на**

>   **рік"**));

>   q = **new** Question(poll, 2, **"Якому виду ігор ви надаєте перевагу?"**,
>   *nOfMany*);

>   qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   **CREATE TABLE** sessions (

>   **id INTEGER NOT NULL AUTO_INCREMENT**, **PRIMARY KEY**

>   (**id**),

>   **timestamp TIMESTAMP NOT NULL**,

>   **expert INTEGER NOT NULL**, **FOREIGN KEY** (**expert**)

>   **REFERENCES** experts(**id**)

>   );

>   **CREATE TABLE** answers (

>   **id INTEGER NOT NULL AUTO_INCREMENT**, **PRIMARY KEY**

**"1"**));

**"\*"**));

**"6"**));

>   md.add(**new** Metadata(q, **"n_of_many.max"**,

>   md.add(**new** Metadata(q, **"open_answer.index"**,

>   vs.add(**new** Variant(q, 1, **"Комп'ютерні"**)); vs.add(**new** Variant(q,
>   2, **"Настільні"**)); vs.add(**new** Variant(q, 3, **"Карткові"**));
>   vs.add(**new** Variant(q, 4, **"Навчальні"**)); vs.add(**new** Variant(q, 5,
>   **"На відкритому**

>   (**id**),

>   **session INTEGER NOT NULL**, **FOREIGN KEY** (**session**)

>   **REFERENCES** sessions(**id**)

>   );

>   **CREATE TABLE** alternatives (

>   **id INTEGER NOT NULL AUTO_INCREMENT**, **PRIMARY KEY**

>   (**id**),

>   **note VARCHAR**(256),

>   **answer INTEGER NOT NULL**, **FOREIGN KEY** (**answer**)

>   **REFERENCES** answers(**id**),

>   **variant INTEGER NOT NULL**, **FOREIGN KEY** (**variant**)

>   **REFERENCES** variants(**id**)

>   );

>   **SELECT** *\** **FROM** question_types;

>   **просторі"**));

>   vs.add(**new** Variant(q, 6, **"Інші (відкрита відповідь)"**));

>   q = **new** Question(poll, 3, **"Ви граєте в наступні комп'ютерні ігри?"**,
>   *matrix*);

>   qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   md.add(**new** Metadata(q,

>   **"matrix.row_answers.min"**, **"1"**)); md.add(**new** Metadata(q,

>   **"matrix.row_answers.max"**, **"1"**));

>   md.add(**new** Metadata(q, **"matrix.rows"**, **"10"**)); md.add(**new**
>   Metadata(q, **"matrix.columns"**,

>   **"3"**));

>   List\<Variant\> rows = **new** ArrayList\<\>(); List\<Variant\> columns =
>   **new** ArrayList\<\>(); rows.add(**new** Variant(q, 1, **"Пригоди"**));
>   rows.add(**new** Variant(q, 2, **"Бойовики"**)); rows.add(**new** Variant(q,
>   3, **"Загадки"**)); rows.add(**new** Variant(q, 4, **"Логічні"**));
>   rows.add(**new** Variant(q, 5, **"MMORPG"**)); rows.add(**new** Variant(q,
>   6, **"RPG"**)); rows.add(**new** Variant(q, 7, **"Ігри-**

>   **симулятори"**));

>   rows.add(**new** Variant(q, 8, **"Спортивні"**)); rows.add(**new**
>   Variant(q, 9, **"Стратегії"**)); rows.add(**new** Variant(q, 10,
>   **"Гонки"**)); columns.add(**new** Variant(q, 11, **"Так"**));
>   columns.add(**new** Variant(q, 12, **"Час від**

>   **часу"**));

>   columns.add(**new** Variant(q, 13, **"Ні"**));

>   *addMatrix*(q, vs, rows, columns);

>   q = **new** Question(poll, 4, **"Як Ви зазвичай отримуєте комп'ютерні
>   ігри?"**, *nOfMany*);

>   qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   q = **new** Question(poll, 10, **"Вкажіть вашу стать:"**, *nOfMany*);

>   qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   **"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.max"**,

>   **"1"**));

>   vs.add(**new** Variant(q, 1, **"Чоловіча"**)); vs.add(**new** Variant(q, 2,
>   **"Жіноча"**)); **return** poll;

>   }

>   **private static** Poll createCafePoll() {

>   Poll poll = **new** Poll(**"Оцінка кафе"**, **"bla-bla- bla, this is a test
>   description"**);

>   List\<Question\> qs = poll.getQuestions();

>   Question q = **new** Question(poll, 1, **"Як часто ви відвідуєте кафе?"**,
>   *nOfMany*);

>   qs.add(q);

>   List\<Metadata\> md = q.getMetadata(); List\<Variant\> vs = q.getVariants();

>   **"1"**));

>   **"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.max"**,

>   vs.add(**new** Variant(q, 1, **"Купую"**)); vs.add(**new** Variant(q, 2,
>   **"Беру на прокат"**)); vs.add(**new** Variant(q, 3, **"Качаю з**

>   **"1"**));

>   **"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   md.add(**new** Metadata(q, **"n_of_many.max"**, vs.add(**new** Variant(q, 1,
>   **"Щодня"**));

>   **інтернету"**));

>   q = **new** Question(poll, 5, **"Ви граєте на цих пристроях?"**, *nOfMany*);

>   qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   vs.add(**new** Variant(q, 2, **"Декілька разів на тиждень"**));

>   vs.add(**new** Variant(q, 3, **"Раз в тиждень"**)); vs.add(**new**
>   Variant(q, 4, **"Декілька разів на**

>   **місяць"**));

>   vs.add(**new** Variant(q, 5, **"Раз в місяць"**)); vs.add(**new** Variant(q,
>   6, **"Декілька разів на**

**"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   md.add(**new** Metadata(q, **"n_of_many.max"**,

>   **рік"**));

>   vs.add(**new** Variant(q, 7, **"Вперше"**));

>   q = **new** Question(poll, 2, **"Зазначте настільки**

**"\*"**));

>   vs.add(**new** Variant(q, 1, **"Комп'ютер"**)); vs.add(**new** Variant(q, 2,
>   **"Ноутбук"**)); vs.add(**new** Variant(q, 3, **"Мобільний**

>   **ви згодні з наступними висловлюваннями?"**, *matrix*); qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   **телефон"**));

>   vs.add(**new** Variant(q, 4, **"Консоль"**));

>   q = **new** Question(poll, 6, **"Комп'ютер vs. консоль?"**, *nOfMany*);

>   qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   md.add(**new** Metadata(q,

>   **"matrix.row_answers.min"**, **"1"**)); md.add(**new** Metadata(q,

>   **"matrix.row_answers.max"**, **"1"**));

>   md.add(**new** Metadata(q, **"matrix.rows"**, **"5"**)); md.add(**new**
>   Metadata(q, **"matrix.columns"**,

>   **"4"**));

**"1"**));

**"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.min"**, md.add(**new** Metadata(q,
>   **"n_of_many.max"**,

>   vs.add(**new** Variant(q, 1, **"Комп'ютер"**)); vs.add(**new** Variant(q, 2,
>   **"Консоль"**)); vs.add(**new** Variant(q, 3, **"Жоден з**

>   List\<Variant\> rows = **new** ArrayList\<\>(); List\<Variant\> columns =
>   **new** ArrayList\<\>();

>   rows.add(**new** Variant(q, 1, **"Закуски були поданні відмінно"**));

>   rows.add(**new** Variant(q, 2, **"Закуски були якісні і смачні"**));

>   **варіантів"**));

>   q = **new** Question(poll, 7, **"PlayStation vs.**

**Xbox?"**, *nOfMany*);

qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   **"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.max"**,

>   **"1"**));

>   vs.add(**new** Variant(q, 1, **"PlayStation"**)); vs.add(**new** Variant(q,
>   2, **"Xbox"**)); vs.add(**new** Variant(q, 3, **"Жоден з**

>   **варіантів"**));

>   q = **new** Question(poll, 8, **"Назвіть свою улюблену гру:"**, *open*);

>   qs.add(q);

>   q = **new** Question(poll, 9, **"Яку суму на рік Ви витрачаєте на ігри?"**,
>   *nOfMany*);

>   qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   **"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.max"**,

>   **"1"**));

>   vs.add(**new** Variant(q, 1, **"0 - 500 грн"**));

>   vs.add(**new** Variant(q, 2, **"501 - 1000 грн"**));

>   vs.add(**new** Variant(q, 3, **"1 001 - 2 500**

>   **грн"**));

>   vs.add(**new** Variant(q, 4, **"Більше"**));

>   rows.add(**new** Variant(q, 3, **"Ціна була приваблива"**));

>   rows.add(**new** Variant(q, 4, **"Інтер'єр кафе був приємним"**));

>   rows.add(**new** Variant(q, 5, **"WiFi підключення достатньо швидке і
>   якісне"**));

>   columns.add(**new** Variant(q, 6, **"Повністю погоджуюсь"**));

>   columns.add(**new** Variant(q, 7, **"Погоджуюсь"**)); columns.add(**new**
>   Variant(q, 8,

>   **"Непогоджуюсь"**));

>   columns.add(**new** Variant(q, 9, **"Зовсім непогоджуюсь"**));

>   *addMatrix*(q, vs, rows, columns);

>   q = **new** Question(poll, 3, **"Відсортуйте від найкращого до
>   найгіршого"**, *sort*);

>   qs.add(q);

>   vs = q.getVariants();

>   List\<Variant\> toSort = **new** ArrayList\<\>(); toSort.add(**new**
>   Variant(q, 1, **"Інтер'єр"**)); toSort.add(**new** Variant(q, 2,

>   **"Обслуговування"**));

>   toSort.add(**new** Variant(q, 3, **"Смак страв"**)); toSort.add(**new**
>   Variant(q, 4, **"Смак напоїв"**)); toSort.add(**new** Variant(q, 5,
>   **"Чистота у**

>   **вбиральні"**));

>   toSort.add(**new** Variant(q, 6, **"Місце розташування закладу"**));

*addMatrix*(q, vs, toSort, toSort);

*// addMatrix(q, vs, toSort, toSort.stream()*

*// .map(v -\> new*

>   *Variant(v.getQuestion(), v.getIndex(), ""))*

>   *// .collect(Collectors.toList()));*

>   q = **new** Question(poll, 4, **"Оцініть наше кафе"**, *nOfMany*);

>   qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   **import** org.hibernate.SessionFactory; **import**
>   org.hibernate.Transaction; **import** org.hibernate.cfg.Configuration;

>   **public class** DBManager {

>   **private final** SessionFactory **sessionFactory**; **public** DBManager()
>   {

>   **try** {

>   **sessionFactory** = **new** Configuration()

>   **"1"**));

>   **"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.max"**,

>   vs.add(**new** Variant(q, 1, **"1"**));

>   vs.add(**new** Variant(q, 2, **"2"**));

>   vs.add(**new** Variant(q, 3, **"3"**));

>   vs.add(**new** Variant(q, 4, **"4"**));

>   vs.add(**new** Variant(q, 5, **"5"**));

>   q = **new** Question(poll, 5, **"Чи порекомендували**

>   .addPackage(**"info.necauqua.dbosurvey"**)

>   .addAnnotatedClass(Alternative.**class**)

>   .addAnnotatedClass(Answer.**class**)

>   .addAnnotatedClass(Expert.**class**)

>   .addAnnotatedClass(Metadata.**class**)

>   .addAnnotatedClass(Poll.**class**)

>   .addAnnotatedClass(Question.**class**)

>   .addAnnotatedClass(QuestionType.**class**)

>   .addAnnotatedClass(Session.**class**)

>   .addAnnotatedClass(Variant.**class**)

>   **б ви наше кафе?"**, *nOfMany*); qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   **"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.max"**,

>   **"1"**));

>   .configure()

>   .buildSessionFactory();

>   }**catch** (Throwable ex) {

>   **throw new**

>   ExceptionInInitializerError(ex);

}

>   }

>   **public void** close() { **sessionFactory**.getCurrentSession().close();
>   **sessionFactory**.close();

>   vs.add(**new** Variant(q, 1, **"Так"**));

>   vs.add(**new** Variant(q, 2, **"Ні"**));

>   q = **new** Question(poll, 6, **"Вкажіть вашу стать:"**, *nOfMany*);

>   qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   **"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.max"**,

>   **"1"**));

>   vs.add(**new** Variant(q, 1, **"Чоловіча"**)); vs.add(**new** Variant(q, 2,
>   **"Жіноча"**));

>   }

>   **public void** addPoll(Poll poll) { Transaction tx = **null**;
>   org.hibernate.Session session =

>   **sessionFactory**.getCurrentSession(); **try** {

>   tx = session.beginTransaction(); session.save(poll);

>   **for**(Question question : poll.getQuestions()) {

>   session.saveOrUpdate(question.getType());

>   session.save(question);

>   **for**(Variant variant : question.getVariants()) {

>   Variant link1 =

>   q = **new** Question(poll, 7, **"Вкажіть вашу вікову групу:"**, *nOfMany*);

>   qs.add(q);

>   md = q.getMetadata(); vs = q.getVariants();

>   md.add(**new** Metadata(q, **"n_of_many.min"**,

>   **"1"**));

>   md.add(**new** Metadata(q, **"n_of_many.max"**,

>   **"1"**));

>   variant.getLink1();

>   variant.getLink2();

}

>   **if**(link1 != **null**) { session.save(link1);

>   }

>   Variant link2 =

>   **if**(link2 != **null**) { session.save(link2);

>   }

>   session.save(variant);

>   vs.add(**new** Variant(q, 1, **"\<20"**));

>   vs.add(**new** Variant(q, 2, **"21-30"**));

>   vs.add(**new** Variant(q, 3, **"31-40"**));

>   vs.add(**new** Variant(q, 4, **"41-50"**));

>   vs.add(**new** Variant(q, 5, **"51-60"**));

>   vs.add(**new** Variant(q, 6, **"60+"**));

>   **return** poll;

>   }

>   **private static void** addMatrix(Question q, List\<Variant\> vs,
>   List\<Variant\> rows, List\<Variant\> columns) {

>   vs.addAll(rows);

>   **if**(columns != rows) { vs.addAll(columns);

>   }

>   **for**(Variant row : rows) {

>   **for**(Variant column : columns) { Variant v = **new** Variant(q, 0,
>   **""**); row.setLink1(v); column.setLink1(v); v.setLink1(row);
>   v.setLink2(column);

>   vs.add(v);

>   }

>   }

>   }

>   }

>   **package** info.necauqua.dbosurvey;

>   **package** info.necauqua.dbosurvey;

>   **import** org.hibernate.HibernateException;

>   **for**(Metadata metadata : question.getMetadata()) {

>   session.save(metadata);

>   }

>   }

>   tx.commit();

>   }**catch**(HibernateException e) {

>   **if**(tx != **null**) { tx.rollback();

>   }

>   e.printStackTrace();

>   }

>   }

>   **public** Poll getPoll(**int** id) { Transaction tx = **null**;
>   org.hibernate.Session session =

>   **sessionFactory**.getCurrentSession(); **try** {

>   tx = session.beginTransaction();

>   **return** session.get(Poll.**class**, id);

>   }**catch**(Exception e) {

>   **if**(tx != **null**) { tx.rollback();

>   }

>   e.printStackTrace();

>   **return null**;

>   }

>   }

>   }
